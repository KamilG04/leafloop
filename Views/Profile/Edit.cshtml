@* Ścieżka: Views/Profile/Edit.cshtml *@
@{
    ViewData["Title"] = "Edytuj Profil";
    // Pobierz userId przekazane z kontrolera ProfileController.Edit()
    var userId = ViewBag.UserId ?? 0;
}

<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a href="/Profile/Index">Mój Profil</a></li>
            <li class="breadcrumb-item active" aria-current="page">Edytuj Profil</li>
        </ol>
    </nav>

    <h1 class="mb-3">@ViewData["Title"]</h1>

    @if (userId > 0)
    {
        // Kontener dla komponentu React - przekazuje ID użytkownika
        <div id="react-profile-edit-form-container" data-user-id="@userId">
            <div class="text-center py-5">
                <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                    <span class="visually-hidden">Ładowanie formularza...</span>
                </div>
                <p class="mt-2 text-muted">Ładowanie danych profilu...</p>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-danger">Nie można załadować formularza edycji - brak ID użytkownika.</div>
    }

</div>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
    {/* Dołącz bundle JavaScript dla komponentu ProfileEditForm */}
    {/* Upewnij się, że ProfileEditForm.js istnieje i jest dodany do webpack.config.js */}
    <script src="~/js/dist/profileEditForm.bundle.js" asp-append-version="true"></script>
}